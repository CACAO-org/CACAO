<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cacao: cacao Software Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cacao-logo-small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cacao
   &#160;<span id="projectnumber">Release 0.1.01</span>
   </div>
   <div id="projectbrief">Compute And Control For Adaptive Optics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page_cacao_Software_Overview.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">cacao Software Overview </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>At the low level, most operations are performed by calls to the <a href="#main-executable">main executable</a> which is precompiled C code. The user interacts with a <a href="#high-level-GUI">high level ASCII-based GUI</a>, which performs calls to individual <a href="#supporting-scripts">scripts</a> or directly execute instances of the main executable.</p>
<p>The standard code layers are : <a href="#high-level-gui">GUI</a> calls <a href="#supporting-scripts">SCRIPT</a> calls <a href="#main-executable">PRECOMPILED EXECUTABLE</a></p>
<h2>High-level GUI</h2>
<p>The top level script is <code>aolconf</code>. Run it with <code>-h</code> option for a quick help </p><pre class="fragment">./aolconf -h
</pre><p>The <code>aolconf</code> script starts the main GUI screen from which sub-screens can be accessed. ASCII control GUI scripts are in the <code>aolconfscripts</code> directory.</p>
<p>The scripts are listed below in the order they appear in the GUI menu. Boldface scripts corresponds to GUI screens. Supporting scripts (holding frequently used functions) are boldface italic.</p>
<hr/>
<p> Script Description </p><hr/>
<p> <b>aolconf_menutop</b> <b>GUI</b>: Top level menu</p>
<p><em><b>aolconf_funcs</b></em> Misc functions</p>
<p><em><b>aolconf_DMfuncs</b></em> DM Functions</p>
<p><em><b>aolconf_readconf</b></em> Configuration read functions</p>
<p><em><b>aolconf_menuview</b></em> <b>GUI</b>: Data view menu</p>
<p><em><b>aolconf_template</b></em> Template (use to create additional GUI screens)</p>
<p>-&mdash;CONFIGURATION----------------&mdash; setup configuration, links to hardware</p>
<p><b>aolconf_menuconfigureloop</b> <b>GUI</b>: Configure loop menu. Called from main menu</p>
<p><em><b>aolconf_configureloop_funcs</b></em> Functions used within the configureloop GUI screen</p>
<p>-&mdash;CONTROL MATRIX---------------&mdash; compute control matrix</p>
<p><b>aolconf_menucontrolmatrix</b> <b>GUI</b>: Control matrix menu. Called from main menu</p>
<p><em><b>aolconf_controlmatrix_funcs</b></em> Functions used within the controlmatrix GUI screen</p>
<p><em><b>aolconf_menu_mkFModes</b></em> Make modes</p>
<p>-&mdash;LOOP CONTROL-----------------&mdash; control AO loop</p>
<p><b>aolconf_menucontrolloop</b> <b>GUI</b>: Control loop menu. Called from main menu</p>
<p><em><b>aolconf_controlloop_funcs</b></em> Functions used within the controlloop GUI screen</p>
<p>-&mdash;PREDICTIVE CONTROL-----------&mdash; WFS telemetry prediction and related AO control</p>
<p><em><b>aolconf_menupredictivecontrol</b></em> <b>GUI</b>:Predictive control</p>
<p>-&mdash;TESTING----------------------&mdash; AO loop tests</p>
<p><b>aolconf_menutestmode</b> <b>GUI</b>: test mode menu</p>
<p><em><b>aolconf_DMturb</b></em> DM turbulence functions</p>
<p>-&mdash;LOGGING----------------------&mdash; Log telemetry</p>
<p><b>aolconf_menurecord</b> <b>GUI</b>: Record / log telemetry</p>
<p><em><b>aolconf_logfuncs</b></em> Data and command logging</p>
<hr/>
<h2>Supporting Scripts</h2>
<p>Scripts are organized in directories according to their purpose</p>
<hr/>
<p> Directory Description </p><hr/>
<p> aolconfscripts GUI scripts (see previous section)</p>
<p>aolfuncs Frequently used functions</p>
<p>auxscripts Auxillary scripts. Essential high level scripts in this directory.</p>
<p>aohardsim Hardware simulation</p>
<p>aocscripts Custom user-provided scripts to interact with non real-time hardware </p><hr/>
<p>The <code>auxscripts</code> directory are called by aolconf to perform various tasks. To list all commands, type in the <code>auxscripts</code> directory : </p><pre class="fragment">./listcommands
</pre><p>For each script, the <code>-h</code> option will print help.</p>
<h2>Main executable</h2>
<p>The main precompiled executable is <code>./AOloopControl</code>, which provides a command line interface (CLI) to all compiled code. Type <code>AOloopControl -h</code> for help. You can enter the CLI and list the available libraries (also called modules) that are linked to the CLI. You can also list the functions available within each module (<code>m? &lt;module.c&gt;</code>) and help for each function (<code>cmd? &lt;functionname&gt;</code>). Type <code>help</code> within the CLI for additional directions, and <code>exit</code> or <code>exitCLI</code> to exit the command line.</p>
<div class="fragment"><div class="line">olivier@ubuntu:/data/AOloopControl/AOloop1$ ./AOloopControl </div><div class="line">type &quot;help&quot; for instructions</div><div class="line">Running with openMP, max threads = 8  (defined by environment variable OMP_NUM_THREADS)</div><div class="line">LOADED: 21 modules, 269 commands</div><div class="line">./AOloopControl &gt; exitCLI</div><div class="line">Closing PID 5291 (prompt process)</div></div><!-- fragment --><h2>Memory storage and Configuration Parameters</h2>
<p>AOCCE adopts a common shared memory data format for all data streams. The data structure is defined in file <code>&lt;srcdir&gt;/src/ImageStruct.h</code>.</p>
<p>Configurations parameters are stored in directory <code>&lt;workdir&gt;/conf</code> as ASCII files. When AOCCEE is launched, it can load all required parameters and populate required shared memory streams from information contained in the <code>&lt;workdir&gt;/conf</code> directory. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="page_cacao_topmenu.html">Subpages</a></li><li class="navelem"><a class="el" href="page_cacao_top_guide.html">Configuring and Running cacao</a></li>
    <li class="footer">Generated on Sun Feb 17 2019 10:12:05 for cacao by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
